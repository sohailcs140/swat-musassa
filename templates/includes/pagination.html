<div class="text-end mt-2">
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-end">
        
        
      
        <li class="page-item prev {% if not page_obj.has_previous %} disabled {% endif %}">
          <a class="page-link waves-effect" 
          href="{% if not page_obj.has_previous %}#{% else %}?page={{page_obj.previous_page_number}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}{% endif %}"><i class="tf-icon mdi mdi-chevron-double-left"></i></a>
        </li>
        
        {% if page_obj.paginator.num_pages > 5 %}

          {% if page_obj.number > 3 %}
          <li class="page-item">    
            <a href="?page=1{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}"
            class="page-link waves-effect">{{ 1 }}</a>
          </li>
          <span>...</span>
          {% endif %}

          {% for i in page_obj.paginator.page_range %}
              {% if i >= page_obj.number|add:"-2" and i <= page_obj.number|add:"2" %}
              <li class="page-item">    
                  <a 
                  href="?page={{ i }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}"
                  class="page-link waves-effect {% if i == page_obj.number %}active{% endif %}">{{ i }}</a>
              </li>
              {% endif %}
          {% endfor %}

          {% if page_obj.number < page_obj.paginator.num_pages|add:"-2" %}
              <span>...</span>
              <li class="page-item">    
                <a class="page-link waves-effect" 
                href="?page={{ page_obj.paginator.num_pages }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}">{{ page_obj.paginator.num_pages }}</a>
              </li>
          {% endif %}

         
        
          {% else %}
            {% for i in  page_obj.paginator.page_range %}
              <li class="page-item {% if page_obj.number == i %} active {% endif %}">
                <a class="page-link waves-effect" 
                href="?page={{i}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}">
                {{i}}
              </a>
              </li>
            {% endfor %}
        {% endif %}
          
     

          
        <li class="page-item next {% if not page_obj.has_next %} disabled {% endif %}">
          <a class="page-link waves-effect" 
            href="{% if not page_obj.has_next %}#{% else %}?page={{page_obj.next_page_number}}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}{% endif %}">
            <i class="tf-icon mdi mdi-chevron-double-right"></i></a>
        </li>
      </ul>
    </nav>
  </div>